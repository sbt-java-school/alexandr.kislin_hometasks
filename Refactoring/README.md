# Refactoring
Домашняя работа по рефакторингу чужого кода. Была выдана после лекции о хорошем коде, нам предоставили код студента, и предложено было его отрефакторить и покрыть тестами.

##Выполнение
Данная работа вызвала некоторое колличество лёгких негативных эмоций, но не по своей сути, а по представленному внутри материалу.
Частичтно рефакторинг был начат уже на лекции, мы получили один огромный класс со смешанным функционалом. Для начала мы определили, что данная программа делает. Она брала данные из базы данных, формировала из них отчёт в виде HTML файла и затем отправляла этот отчёт на электронную почту. Мы разнесли логически разный функционал в разные классы, а так же сформировали логические пакеты.
Так, у нас появились папки builders, dao, senders, которые отвечали за построение отчёта, доступ к данным и отправку соответственно. Далее пошла самостоятельная работа.
Фрагменты кода были распределены в соответствие с классами, для проверки сразу же я начал писать собственные тесты, поскольу те что были представлены - представляли собой очень сильно связный код, который тестировал всё сразу. По таким тестам не возможно было определить, какая именно часть программы сейчас дала сбой.
Так, для тестирования DAO-классов были написаны простые тесты, проверяющие результат выборки из фейковой бд, которая получалась с помощью Mockito. Затем так же были протестированны классы билдеров и сендеров, написаны отдельные тесты.
Во всех тестах был повторяющийся код, создание mock-объектов. Я решил вынести его в отдельный класс.
Домашняя работа была выполнена, попутно с этим возникли небольшие сложности с правильным использованием Maven, которые успешно решились с помощью советов Дениса Кранчева, нашего преподавателя.
В ходе работы были улучшены навыки создания тестов, был получен опыт рефакторинга чужого кода, получено чёткое представление о том как писать не надо.